/**
 * @file   lpc2478_lcd.c
 * @author fanghuaqi <578567190@qq.com>
 * @date   Sun Apr 10 20:44:12 2011
 * 
 * @brief  lm6800 lcd driver for lpc2478
 * 
 * 
 */

#include "lpc2478_lcd.h"

uint16_t gl_curRow = 0;
uint16_t gl_curCol = 0;
uint8_t code gl_asckey8X8[] = {
		0x00,0x00,0x00,0x00,/*" ",0*/

		0x00,0x00,0x5E,0x00,/*"!",1*/

		0x00,0x04,0x06,0x02,/*""",2*/

		0x7C,0x28,0x7C,0x00,/*"#",3*/

		0x00,0x6C,0xFE,0x64,/*"$",4*/

		0x1C,0x5C,0x70,0x7C,/*"%",5*/

		0x60,0x5C,0x3C,0x48,/*"&",6*/

		0x04,0x02,0x00,0x00,/*"'",7*/

		0x00,0x00,0x7C,0x82,/*"(",8*/

		0x00,0xC6,0x38,0x00,/*")",9*/

		0x00,0x18,0x3C,0x18,/*"*",10*/

		0x08,0x08,0x3E,0x08,/*"+",11*/

		0x80,0x40,0x00,0x00,/*",",12*/

		0x08,0x08,0x08,0x00,/*"-",13*/

		0x00,0x40,0x00,0x00,/*".",14*/

		0xC0,0x38,0x06,0x00,/*"/",15*/

		0x38,0x44,0x38,0x00,/*"0",16*/

		0x00,0x48,0x78,0x40,/*"1",17*/

		0x6C,0x54,0x4C,0x00,/*"2",18*/

		0x6C,0x4C,0x74,0x00,/*"3",19*/

		0x10,0x28,0x7C,0x00,/*"4",20*/

		0x7C,0x54,0x74,0x00,/*"5",21*/

		0x38,0x54,0x54,0x70,/*"6",22*/

		0x00,0x04,0x7C,0x04,/*"7",23*/

		0x6C,0x54,0x6C,0x00,/*"8",24*/

		0x1C,0x54,0x3C,0x00,/*"9",25*/

		0x00,0x00,0x48,0x00,/*":",26*/

		0x00,0x00,0xC8,0x00,/*";",27*/

		0x00,0x10,0x28,0x44,/*"<",28*/

		0x28,0x28,0x28,0x00,/*"=",29*/

		0x00,0x44,0x28,0x10,/*">",30*/

		0x06,0x52,0x0E,0x00,/*"?",31*/

		0x6C,0x54,0x4C,0x00,/*"2",32*/

		0x40,0x7C,0x78,0x40,/*"A",33*/

		0x00,0x7C,0x4C,0x74,/*"B",34*/

		0x38,0x44,0x44,0x00,/*"C",35*/

		0x00,0x7C,0x44,0x38,/*"D",36*/

		0x00,0x7C,0x5C,0x44,/*"E",37*/

		0x00,0x7C,0x1C,0x04,/*"F",38*/

		0x38,0x64,0x24,0x20,/*"G",39*/

		0x00,0x7C,0x10,0x7C,/*"H",40*/

		0x00,0x44,0x7C,0x44,/*"I",41*/

		0x80,0x84,0xFC,0x04,/*"J",42*/

		0x00,0x7C,0x7C,0x44,/*"K",43*/

		0x00,0x7C,0x40,0x40,/*"L",44*/

		0x7C,0x7F,0x7C,0x00,/*"M",45*/

		0x00,0x7C,0x7C,0x7C,/*"N",46*/

		0x38,0x44,0x44,0x38,/*"O",47*/

		0x00,0x7C,0x14,0x1C,/*"P",48*/

		0x38,0x64,0x64,0xB8,/*"Q",49*/

		0x00,0x7C,0x0C,0x3C,/*"R",50*/

		0x4C,0x54,0x64,0x00,/*"S",51*/

		0x04,0x04,0x7C,0x04,/*"T",52*/

		0x00,0x7C,0x40,0x7C,/*"U",53*/

		0x04,0x3C,0x60,0x3C,/*"V",54*/

		0x0C,0x74,0x1C,0x7C,/*"W",55*/

		0x44,0x7C,0x7C,0x44,/*"X",56*/

		0x04,0x4C,0x70,0x4C,/*"Y",57*/

		0x44,0x7C,0x4C,0x00,/*"Z",58*/

		0x00,0x00,0xFE,0x82,/*"[",59*/

		0x00,0x1C,0xE0,0x00,/*"\",60*/

		0x00,0x82,0xFE,0x00,/*"]",61*/

		0x00,0x04,0x02,0x04,/*"^",62*/

		0x80,0x80,0x80,0x80,/*"_",63*/

		0x00,0x00,0x02,0x00,/*"`",64*/

		0x68,0x58,0x78,0x40,/*"a",65*/

		0x00,0x7C,0x48,0x78,/*"b",66*/

		0x70,0x48,0x48,0x00,/*"c",67*/

		0x78,0x48,0x7C,0x00,/*"d",68*/

		0x00,0x70,0x58,0x58,/*"e",69*/

		0x48,0x7C,0x4C,0x00,/*"f",70*/

		0x00,0xF8,0xD8,0xD8,/*"g",71*/

		0x00,0x7C,0x08,0x78,/*"h",72*/

		0x00,0x48,0x7C,0x40,/*"i",73*/

		0x00,0x88,0xFC,0x00,/*"j",74*/

		0x00,0x7C,0x78,0x48,/*"k",75*/

		0x00,0x44,0x7C,0x40,/*"l",76*/

		0x78,0x78,0x78,0x00,/*"m",77*/

		0x00,0x78,0x08,0x78,/*"n",78*/

		0x30,0x48,0x48,0x30,/*"o",79*/

		0x00,0xF8,0xC8,0x78,/*"p",80*/

		0x78,0xC8,0xF8,0x00,/*"q",81*/

		0x48,0x78,0x48,0x08,/*"r",82*/

		0x00,0x58,0x68,0x68,/*"s",83*/

		0x08,0x7C,0x40,0x00,/*"t",84*/

		0x00,0x78,0x40,0x78,/*"u",85*/

		0x08,0x38,0x40,0x38,/*"v",86*/

		0x18,0x68,0x18,0x78,/*"w",87*/

		0x48,0x78,0x78,0x48,/*"x",88*/

		0x88,0xD8,0x38,0x08,/*"y",89*/

		0x00,0x68,0x78,0x48,/*"z",90*/

		0x00,0x10,0xFE,0x82,/*"{",91*/

		0x00,0x00,0xFF,0x00,/*"|",92*/

		0x82,0xFE,0x10,0x00,/*"}",93*/

		0x03,0x01,0x02,0x03,/*"~",94*/
};
uint8_t code gl_asckey8X16[] = {
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*" ",0*/

		0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,/*"!",1*/

		0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*""",2*/

		0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,
		0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,/*"#",3*/

		0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,
		0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,/*"$",4*/

		0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,
		0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,/*"%",5*/

		0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,
		0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,/*"&",6*/

		0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"'",7*/

		0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,
		0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,/*"(",8*/

		0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,
		0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,/*")",9*/

		0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,
		0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,/*"*",10*/

		0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,
		0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,/*"+",11*/

		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,/*",",12*/

		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,/*"-",13*/

		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,/*".",14*/

		0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,
		0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,/*"/",15*/

		0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,
		0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,/*"0",16*/

		0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,
		0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"1",17*/

		0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,
		0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,/*"2",18*/

		0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,
		0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,/*"3",19*/

		0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,
		0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,/*"4",20*/

		0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,
		0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,/*"5",21*/

		0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,
		0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,/*"6",22*/

		0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,
		0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,/*"7",23*/

		0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,
		0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,/*"8",24*/

		0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,
		0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,/*"9",25*/

		0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,
		0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,/*":",26*/

		0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,
		0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,/*";",27*/

		0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,
		0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,/*"<",28*/

		0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,
		0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,/*"=",29*/

		0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,
		0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,/*">",30*/

		0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,
		0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,/*"?",31*/

		0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,
		0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,/*"2",32*/

		0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,
		0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,/*"A",33*/

		0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,
		0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,/*"B",34*/

		0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,
		0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,/*"C",35*/

		0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,
		0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,/*"D",36*/

		0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,
		0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,/*"E",37*/

		0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,
		0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,/*"F",38*/

		0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,
		0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,/*"G",39*/

		0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,
		0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,/*"H",40*/

		0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,
		0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"I",41*/

		0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,
		0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,/*"J",42*/

		0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,
		0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,/*"K",43*/

		0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,
		0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,/*"L",44*/

		0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,
		0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,/*"M",45*/

		0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,
		0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,/*"N",46*/

		0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,
		0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,/*"O",47*/

		0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,
		0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,/*"P",48*/

		0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,
		0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,/*"Q",49*/

		0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,
		0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,/*"R",50*/

		0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,
		0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,/*"S",51*/

		0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,
		0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,/*"T",52*/

		0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,
		0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,/*"U",53*/

		0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,
		0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,/*"V",54*/

		0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,
		0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,/*"W",55*/

		0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,
		0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,/*"X",56*/

		0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,
		0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,/*"Y",57*/

		0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,
		0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,/*"Z",58*/

		0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,
		0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,/*"[",59*/

		0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,/*"\",60*/

		0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,
		0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,/*"]",61*/

		0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"^",62*/

		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,/*"_",63*/

		0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"`",64*/

		0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,
		0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,/*"a",65*/

		0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,
		0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,/*"b",66*/

		0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,
		0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,/*"c",67*/

		0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,
		0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,/*"d",68*/

		0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,
		0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,/*"e",69*/

		0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,
		0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"f",70*/

		0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,
		0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,/*"g",71*/

		0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,
		0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,/*"h",72*/

		0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,
		0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"i",73*/

		0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,
		0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,/*"j",74*/

		0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,
		0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,/*"k",75*/

		0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,
		0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,/*"l",76*/

		0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
		0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,/*"m",77*/

		0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,
		0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,/*"n",78*/

		0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,
		0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,/*"o",79*/

		0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,
		0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,/*"p",80*/

		0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,
		0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,/*"q",81*/

		0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,
		0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,/*"r",82*/

		0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,
		0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,/*"s",83*/

		0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,
		0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,/*"t",84*/

		0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,
		0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,/*"u",85*/

		0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,
		0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,/*"v",86*/

		0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,
		0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,/*"w",87*/

		0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,
		0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,/*"x",88*/

		0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,
		0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,/*"y",89*/

		0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
		0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,/*"z",90*/

		0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,
		0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,/*"{",91*/

		0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,/*"|",92*/

		0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,
		0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,/*"}",93*/

		0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"~",94*/
};
/** 
 * 
 * 
 * 
 * @return 
 */
ERCD LCD_Init(void)
{
    uint8_t i ;
    LCD_RST_LOW();                  /*RST must keep low at least 1us then go high*/
    Delay(100);
    LCD_RST_HIGH();
    Delay(10);
    for (i = 0; i < 4; i++){
        LCD_Chip_Select(i);
        LCD_Write_CMD(LCD_DISPLAY_ON);/*Display on*/
        LCD_Write_CMD(LCD_DISPLAY_START_ADDR|0x0);/*display startline register 0*/
    }
    return ERCD_OK;
}
/** 
 * 
 * 
 * @param cmdcode 
 * 
 * @return 
 */
ERCD LCD_Write_CMD(uint8_t cmdcode)
{
    while(LCD_Read_Status() & 0x90);
	
	LCD_RS_LOW();                   /*when RS=0 R/W=0,cmd write the data bus*/
    LCD_R_W_LOW();
    LCD_OUT_DATA(cmdcode);          /*output cmd  on the bus*/
    LCD_E_HIGH_LOW();               /*when E high->low data appear on the bus*/
	_nop_();
	_nop_();
	_nop_();
    return ERCD_OK;
}
/** 
 * 
 * 
 * @param char_data 
 * 
 * @return 
 */
ERCD LCD_Write_Char(uint8_t char_data)
{
    while(LCD_Read_Status() & 0x90);
	//LCD_E_LOW();
	LCD_RS_HIGH();                  /*when RS=1 R/W=0,cmd write the data bus*/
    LCD_R_W_LOW();
    LCD_OUT_DATA(char_data);        /*output data on the bus*/
    LCD_E_HIGH_LOW();               /*when E high->low(falling edge) data appear on the bus*/
	_nop_();
	_nop_();
	_nop_();
    return ERCD_OK;
}
/** 
 * 
 * 
 * 
 * @return 
 */
uint8_t LCD_Read_Char(void)
{
    uint8_t data_read;
    while(LCD_Read_Status() & 0x90);
    /*when read data ,a dummy read is needed*/
    LCD_RS_HIGH();                   /*when RS=1 R/W=1,read data from the displayram*/
    LCD_R_W_HIGH();
	LCD_E_HIGH();                    /*when E=1 and device is selected data appear*/
    data_read = LCD_IN_DATA();       /*in data on the bus*/
    LCD_E_LOW(); 
	_nop_();
	_nop_();
	_nop_();
    return data_read;				 /*must pull low here*/
}
/** 
 * 
 * 
 * 
 * @return 
 */
uint8_t LCD_Read_Status(void)
{
    uint8_t status;
    /*when read status ,a dummy read is not needed*/
	LCD_OUT_DATA(0x00);
	_nop_();
	_nop_();
    LCD_RS_LOW();                  /*when RS=0 R/W=1,read status ofthe l*/
    LCD_R_W_HIGH();
	LCD_E_HIGH();                   /*when E=1 and device is selecte dat ppear*/
    status= LCD_IN_DATA();         /*n data on the bus*/    
	LCD_E_LOW();    			/*must pull low here*/
    return status;
}
/** 
  
  * 
  * param cipsel 
  * 
  * @return 
  */
ERCD LCD_Chip_Select(uint8_t chipsel)
{
    if (chipsel > 3){
        return ERCD_ARG_ERR;
    }
	//LCD_CHIP_SEL_OUTPUT();
	//Delay(1);
    switch (chipsel){
        case 0:
            LCD_CHIP_SEL_0();
            break;
        case 1:
            LCD_CHIP_SEL_1();
            break;
        case 2:
            LCD_CHIP_SEL_2();
            break;
        case 3:
            LCD_CHIP_SEL_3();
            break;
        default:
            break;
    }
	//Delay(1);
	_nop_();
	_nop_();
	_nop_();
    return ERCD_OK;
}
/* 
* 
* 
* @ara row 
 * @param col 
 * 
 * @return 
 */
ERCD LCD_Locate(uint16_t row, uint16_t col)
{
    uint8_t chipsel = 0;
	gl_curRow = row;
	gl_curCol = col;
    if ( (col < LCD_COLS) && (row < LCD_ROWS) ){ /*check if the row and col is over range */
        chipsel = col / LCD_CHIP_WIDTH;
        LCD_Chip_Select(chipsel);
    } else {
        return ERCD_ARG_ERR;
    }
    LCD_Write_CMD(LCD_SET_X_ADDRESS|(row>>3)); /*Page address*/
    LCD_Write_CMD(LCD_SET_Y_ADDRESS|(col%LCD_CHIP_WIDTH));
    return ERCD_OK;
}



ERCD LCD_PutDot(uint16_t row, uint16_t col, uint8_t dot_state)
{
	
	uint8_t ram;
	LCD_Write_CMD(LCD_DISPLAY_ON);
	LCD_Locate(row,col);
	ram = LCD_Read_Char();
	ram = LCD_Read_Char();
	ram = (ram & (~(1<<(row%8))) & 0xff) | (dot_state<<(row%8));
	LCD_Locate(row,col);
    LCD_Write_Char(ram);
    return ERCD_OK;
}

ERCD LCD_PutAsc(uint8_t asc_type,uint8_t asc_code)
{

	uint8_t i;
	uint16_t asc_codeTemp;

	asc_codeTemp = asc_code;
	LCD_Write_CMD(LCD_DISPLAY_ON);

	switch (asc_type){
		case ASC_8X16:
			LCD_Locate(gl_curRow,gl_curCol);
			for (i = 0;i < 8; i++){
					LCD_Write_Char(gl_asckey8X16[i+(asc_codeTemp-ASC_CODE_START)<<8]);
			}
			LCD_Locate(gl_curRow+8,gl_curCol);
			for (i = 8;i < 16; i++){
						LCD_Write_Char(gl_asckey8X16[i+(asc_codeTemp-ASC_CODE_START)<<8]);
			}
			LCD_Locate(gl_curRow,gl_curCol+8);
			break;
		case ASC_8X8:
			LCD_Locate(gl_curRow,gl_curCol);
			for (i = 0;i < 8; i++){
				LCD_Write_Char(gl_asckey8X8[i+(asc_codeTemp-ASC_CODE_START)<<8]);
			}
			LCD_Locate(gl_curRow,gl_curCol+8);
			break;
		default:
			break;
	}
    return ERCD_OK;
}

ERCD LCD_ClrScreen(void)
{
	uint16_t i ,j, k;
	for(k=0;k<4;k++)
	{
		LCD_Chip_Select(k);
		for(j=0;j<8;j++)
		{
			LCD_Write_CMD(LCD_SET_X_ADDRESS|j);
			LCD_Write_CMD(LCD_SET_Y_ADDRESS);
			for(i=0;i<64;i++)
				LCD_Write_Char(0x00);
		}
	}
	LCD_Locate(0,0);
	return ERCD_OK;
}
